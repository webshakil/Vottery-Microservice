# Server Configuration
PORT=3002
NODE_ENV=development

# Database Configuration

DB_HOST=localhost
DB_PORT=5432
DB_NAME=sngine-vottery
DB_USER=postgres
DB_PASSWORD=12345678

# Security Configuration
ENCRYPTION_KEY=your-32-character-encryption-key
ENCRYPTION_SALT=your-salt-string

# WebAuthn Configuration
RP_ID=localhost
ORIGIN=http://localhost:3000

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,https://vottery.com

# Logging Configuration
LOG_DIR=./logs

# biometric-service/Dockerfile
FROM node:20-alpine

# Create app directory
WORKDIR /usr/src/app

# Copy package files
COPY package*.json ./

# Install dependencies
RUN npm ci --only=production

# Copy source code
COPY src/ ./src/

# Create logs directory
RUN mkdir -p logs

# Expose port
EXPOSE 3002

# Health check
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
  CMD curl -f http://localhost:3002/health || exit 1

# Start the service
CMD ["npm", "start"]